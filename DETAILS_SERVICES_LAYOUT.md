# ğŸ¨ Nouvelle interface - Section "DÃ©tails & Services"

## Layout complet (Avant et AprÃ¨s)

### âŒ AVANT
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DÃ‰TAILS & SERVICES                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                                            â”‚
â”‚  Texte descriptif    â”‚  ğŸ¥ Petit-dÃ©jeuner        30â‚¬      âœ“     â”‚
â”‚  ...                 â”‚  ğŸ§¹ Nettoyage            75â‚¬      â–¼     â”‚
â”‚                      â”‚  ğŸ›ï¸ Draps Premium         30â‚¬      â–¼     â”‚
â”‚                      â”‚  ğŸ…¿ï¸ Parking Couvert      30â‚¬      â–¼     â”‚
â”‚                      â”‚  ... (autres options)                     â”‚
â”‚                      â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*Pas d'accÃ¨s facile pour changer les nuits*

---

### âœ… APRÃˆS (NOUVEAU)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DÃ‰TAILS & SERVICES                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                                            â”‚
â”‚  Texte descriptif    â”‚  ğŸ¥ Petit-dÃ©jeuner        30â‚¬      âœ“     â”‚
â”‚  ...                 â”‚  ğŸ§¹ Nettoyage            75â‚¬      â–¼     â”‚
â”‚                      â”‚  ğŸ›ï¸ Draps Premium         30â‚¬      â–¼     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  ğŸ…¿ï¸ Parking Couvert      30â‚¬      â–¼     â”‚
â”‚ â”‚ NOMBRE DE NUITS  â”‚ â”‚  ... (autres options)                     â”‚
â”‚ â”‚       3          â”‚ â”‚                                            â”‚
â”‚ â”‚  [âˆ’] 3N [+]      â”‚ â”‚                                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                            â”‚
â”‚                      â”‚                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                            â”‚
â”‚ â”‚ NOMBRE DE PERS   â”‚ â”‚                                            â”‚
â”‚ â”‚       2          â”‚ â”‚                                            â”‚
â”‚ â”‚  [âˆ’] 2P [+]      â”‚ â”‚                                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                            â”‚
â”‚                      â”‚                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                            â”‚
â”‚ â”‚ Prix base: 900â‚¬  â”‚ â”‚                                            â”‚
â”‚ â”‚ Options:  220â‚¬   â”‚ â”‚                                            â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚                                            â”‚
â”‚ â”‚ Total: 1,120â‚¬    â”‚ â”‚                                            â”‚
â”‚ â”‚                  â”‚ â”‚                                            â”‚
â”‚ â”‚ [RÃ‰SERVER]       â”‚ â”‚                                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                            â”‚
â”‚                      â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*ContrÃ´les complets sur la gauche, options dÃ©taillÃ©es Ã  droite*

---

## ğŸ“Š DÃ©tail du panneau de gauche (lg:col-span-5)

### Composant 1: Nombre de nuits
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre de nuits                 â”‚
â”‚              3                  â”‚ â† Grande taille
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [âˆ’]    3N     [+]              â”‚
â”‚  gris  texte  noir+blanc        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Click sur [âˆ’] â†’ nuits - 1 (minimum 1)
- Click sur [+] â†’ nuits + 1 (illimitÃ©)
- Les prix se recalculent automatiquement
- Les options "per_day" se mettent Ã  jour

---

### Composant 2: Nombre de personnes
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre de personnes             â”‚
â”‚              2                  â”‚ â† Grande taille
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [âˆ’]    2P     [+]              â”‚
â”‚  gris  texte  noir+blanc        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Click sur [âˆ’] â†’ guests - 1 (minimum 1)
- Click sur [+] â†’ guests + 1 (illimitÃ©)
- Les prix se recalculent automatiquement
- Les options "per_guest" se mettent Ã  jour

---

### Composant 3: RÃ©capitulatif des prix
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prix base        900â‚¬            â”‚ (300â‚¬/nuit Ã— 3)
â”‚ Options          220â‚¬  â† Rose    â”‚ (visible si > 0)
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ Total          1,120â‚¬  â† Rose    â”‚ (gros chiffre)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ [ RÃ‰SERVER MAINTENANT ]         â”‚
â”‚  (bouton noir pleine largeur)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**FonctionnalitÃ©s:**
- Affichage du prix de base: `apartmentPrice Ã— nights`
- Affichage du coÃ»t options: `sum(selectedOptions)`
- Total = base + options
- Mise Ã  jour **en temps rÃ©el** lors du changement de nuits/personnes
- Mise Ã  jour **lors de la sÃ©lection d'options**

---

## ğŸ”„ Calculs en temps rÃ©el

### Scenario: Augmenter les nuits de 2 Ã  3

```
AVANT:
  Nuits: 2
  Base: 300â‚¬ Ã— 2 = 600â‚¬
  Options (ex: parking 15â‚¬/nuit) = 15â‚¬ Ã— 2 = 30â‚¬
  Total: 630â‚¬

[CLICK +]
â†“

APRÃˆS:
  Nuits: 3
  Base: 300â‚¬ Ã— 3 = 900â‚¬
  Options (ex: parking 15â‚¬/nuit) = 15â‚¬ Ã— 3 = 45â‚¬
  Total: 945â‚¬
```
*Tous les prix "per_day" se recalculent automatiquement*

---

### Scenario: Ajouter une option

```
AVANT:
  Personnes: 2
  Options sÃ©lectionnÃ©es:
    - Parking 15â‚¬/nuit Ã— 3 = 45â‚¬
  Options Total: 45â‚¬
  
[CLICK Petit-dÃ©jeuner 15â‚¬/pers]
â†“

APRÃˆS:
  Personnes: 2
  Options sÃ©lectionnÃ©es:
    - Parking 15â‚¬/nuit Ã— 3 = 45â‚¬
    - Petit-dÃ©j 15â‚¬/pers Ã— 2 = 30â‚¬
  Options Total: 75â‚¬
```
*Le recapitulatif se met Ã  jour instantanÃ©ment*

---

## ğŸ¯ Interactions utilisateur complÃ¨tes

### 1. ArrivÃ©e sur la page
```
â†’ Charge les options depuis API
â†’ Nuits: 2 (par dÃ©faut)
â†’ Personnes: 2 (par dÃ©faut)
â†’ Prix calculÃ©: 300â‚¬/nuit Ã— 2 = 600â‚¬
â†’ Affichage du total
```

### 2. Utilisateur augmente les nuits
```
[CLICK +] â†’ Nuits: 3
â†’ Prix base: 300â‚¬ Ã— 3 = 900â‚¬
â†’ Options per_day recalculÃ©es
â†’ Affichage du nouveau total
```

### 3. Utilisateur sÃ©lectionne des options
```
[CLICK Nettoyage] â†’ SÃ©lectionnÃ©
â†’ Options total: +75â‚¬
â†’ Total: 900â‚¬ + 75â‚¬ = 975â‚¬
â†’ Affichage mis Ã  jour
```

### 4. Utilisateur clique "RÃ©server"
```
[CLICK RÃ©server]
â†’ DonnÃ©es envoyÃ©es:
   {
     nights: 3,
     guests: 2,
     basePrice: 900â‚¬,
     optionsPrice: 75â‚¬,
     selectedOptions: [
       { name: 'Nettoyage', price: 75, ... }
     ],
     total: 975â‚¬
   }
â†’ Redirection vers paiement
```

---

## ğŸ’¾ Ã‰tat du composant

```typescript
const [nights, setNights] = useState(2);        // Nombre de nuits
const [guests, setGuests] = useState(2);        // Nombre de personnes
const [selectedOptions, setSelectedOptions] = useState<SelectedOption[]>([]); // Options
const [optionsPrice, setOptionsPrice] = useState(0);  // CoÃ»t total options
const [allOptions, setAllOptions] = useState<Record<string, any[]>>({}); // Options dispo
```

---

## ğŸ¨ Styles CSS appliquÃ©s

| Ã‰lÃ©ment | Style |
|---------|-------|
| Conteneur | `bg-white p-6 rounded-[4px] border border-gray-100` |
| Label | `text-sm font-bold uppercase text-gray-500` |
| Nombre | `text-2xl font-black` |
| Bouton [âˆ’] | `bg-gray-100 hover:bg-gray-200` |
| Bouton [+] | `bg-black hover:bg-zinc-900 text-white` |
| Total | `text-2xl font-black text-[#FF2E63]` |
| Bouton RÃ©server | `bg-black hover:bg-zinc-900 text-white py-4` |

---

## ğŸš€ Avantages de cette approche

âœ… **VisibilitÃ©**: Les contrÃ´les sont toujours visibles
âœ… **AccessibilitÃ©**: Facile Ã  utiliser sur mobile et desktop
âœ… **Feedback**: Mise Ã  jour instantanÃ©e du prix
âœ… **CohÃ©rence**: MÃªme design que le reste de l'appli
âœ… **ClartÃ©**: SÃ©paration claire des nuits/personnes/prix
âœ… **FlexibilitÃ©**: Les calculs s'ajustent en temps rÃ©el

---

## ğŸ“± Responsive design

### Mobile (< lg)
```
[Texte descriptif]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre de nuits     â”‚
â”‚ [âˆ’] 2N [+]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nombre de personnes â”‚
â”‚ [âˆ’] 2P [+]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prix: 600â‚¬          â”‚
â”‚ [RÃ‰SERVER]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Toutes les options empilÃ©es]
```

### Desktop (â‰¥ lg)
```
[Gauche: 5 colonnes] | [Droite: 7 colonnes]
  DÃ©tails                Options
  Nuits                  ğŸ¥ Petit-dÃ©j
  Personnes              ğŸ§¹ Nettoyage
  Prix                   ğŸ›ï¸ Draps
  Bouton                 ... etc
```

---

## âœ¨ RÃ©sultat final

Une interface **intuitive et complÃ¨te** oÃ¹ l'utilisateur peut:

1. âœ“ Ajuster le nombre de nuits facilement
2. âœ“ Ajuster le nombre de personnes facilement
3. âœ“ Voir le prix se recalculer en temps rÃ©el
4. âœ“ SÃ©lectionner des options dans la mÃªme vue
5. âœ“ Voir le prix total mis Ã  jour automatiquement
6. âœ“ ProcÃ©der Ã  la rÃ©servation en un clic

Le tout dans une **interface cohÃ©rente et Ã©lÃ©gante**! ğŸ‰
